import numpy as np
from controller.LotlModel import getRes
import pandas as pd


def getLotlFileRes(filename, type):
    filename = "upload/" + filename
    if type in {'application/vnd.ms-excel', 'application/zip'}:
        df = pd.read_excel(filename)
    else:
        df = pd.read_csv(filename)
    df = np.array(df)
    resList = []
    for i in df:
        resList.append(getRes(i[0]))
    for i in range(len(resList)):
        if len(resList[i][0]) > 100:
            resList[i][0] = str(resList[i][0])[:80] + "..."
    return resList
